:root{--bg:#f6f7f9;--card:#fff;--accent:#0ea46a}
body{font-family:Arial,Helvetica,sans-serif;background:var(--bg);margin:0;padding:12px;color:#111}
.top{display:flex;align-items:center;gap:12px;margin-bottom:12px;justify-content:space-between}
.logo{height:44px}
#location{font-size:14px;color:#555}
.cart-btn{background:#0ea46a;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;min-width:100px;text-align:center;} /* Улучшил для Telegram WebApp */
.search{display:flex;gap:8px;margin-bottom:10px}
input#q{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:15px}
button#btnSearch{padding:10px 14px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer}
.results{display:flex;flex-direction:column;gap:12px}

/* Карточка товара */
.card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 2px 6px rgba(0,0,0,0.06);display:flex;gap:12px;align-items:flex-start}
.card img{width:84px;height:84px;object-fit:cover;border-radius:8px}
.card .info{flex:1}
.card h3{margin:0 0 4px 0;font-size:16px}
.card p{margin:0;font-size:13px;color:#666}
.card .price{color:#16a34a;font-weight:700;margin-top:4px;margin-bottom:6px}
.card .actions{display:flex;gap:8px;margin-top:8px;} /* Для кнопок "Подробнее" и "Добавить в корзину" на карточке */
.btn-choose{background:#059669;color:#fff;padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-size:13px;white-space:nowrap;}
.btn-search{background:#e6f4ea;color:#087f5b;padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-size:13px;white-space:nowrap;}


/* Калькулятор на карточке */
.calculator-in-card{border-top:1px solid #eee;padding-top:8px;margin-top:8px;font-size:13px}
.calculator-in-card input{width:50px;padding:4px;border-radius:4px;border:1px solid #ddd;margin-left:4px;}
.calculator-in-card label{display:block;margin-bottom:6px;}
.calculator-in-card .calc-row{display:flex;justify-content:space-between;margin-bottom:4px;}


/* Модальное окно (новое окно товара) */
.modal{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.35);display:flex;align-items:center;justify-content:center;z-index:1000;overflow:auto;}
.hidden{display:none}
.modal-content{background:#fff;border-radius:10px;max-width:900px;width:95%;padding:12px;box-shadow:0 8px 30px rgba(0,0,0,0.2);margin: 20px 0;}
.modal-body{display:flex;gap:16px;}
.modal-left img{width:320px;height:320px;object-fit:contain;border-radius:8px;background:#f7f7f7;display:block;}
.modal-right{flex:1}
.modal-close{float:right;background:none;border:0;font-size:28px;cursor:pointer}
.desc{color:#333}
.props ul{padding-left:18px;font-size:14px}
.back-btn{display:inline-block;margin-bottom:10px;} /* Стиль для кнопки "Назад" */

/* Адаптивность для мобильных устройств (< 600px) */
@media (max-width: 600px) {
    body{padding: 0;}
    .top{padding: 12px;}
    main{padding: 0 12px 12px;}
    .card{flex-direction: column; align-items: stretch;}
    .card img{width: 100%; height: auto;}
    
    /* Модальное окно — делаем полноэкранным для маленьких экранов */
    .modal-content{
        width: 100%;
        max-width: none;
        height: 100%;
        border-radius: 0;
        padding: 10px;
        box-sizing: border-box;
        margin: 0;
        overflow-y: auto;
    }
    .modal-body{flex-direction: column;}
    .modal-left img{width: 100%; height: auto; max-height: 250px;} /* Ограничиваем высоту изображения */
    .modal-left {order: 1;}
    .modal-right {order: 2;}
    .modal-close{position: absolute; right: 10px; top: 10px; z-index: 1010; color: #333;}
    .back-btn{display: none;} /* На мобильном лучше использовать крестик для закрытия */
    
    /* Корзина */
    .cart-panel{width: 95%; max-width: none; right: 2.5%; left: 2.5%; bottom: 12px;}
}

/* Корзина */
.cart-panel{position:fixed;right:14px;bottom:14px;width:340px;background:#fff;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.2);z-index:1200;padding:12px;max-height: 90vh;}
.cart-header{display:flex;justify-content:space-between;align-items:center}
.cart-items{max-height:260px;overflow-y:auto;margin-top:10px;padding-right: 5px;}
.cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px solid #eee}
.cart-item img{width:50px;height:50px;object-fit:cover;border-radius:6px}
.cart-footer{margin-top:10px}
.cart-footer input{width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #ddd;box-sizing: border-box;}
.cart-actions{display:flex;gap:8px;margin-top:8px}
